<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>wappsto-wapp</title><meta name="description" content="Documentation for wappsto-wapp"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">wappsto-wapp</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>wappsto-wapp</h1></div><div class="tsd-panel tsd-typography"><a id="wappsto-wapp-api" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Wappsto Wapp API<a href="#wappsto-wapp-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://github.com/Wappsto/wappsto-wapp/actions/workflows/main.yml"><img src="https://github.com/Wappsto/wappsto-wapp/actions/workflows/main.yml/badge.svg" alt="CI"></a>
<a href="https://codecov.io/gh/Wappsto/javascript-wappsto-wapp"><img src="https://codecov.io/gh/Wappsto/javascript-wappsto-wapp/branch/main/graph/badge.svg?token=Y7SPYV4G97" alt="codecov"></a>
<a href="https://deepscan.io/dashboard#view=project&amp;tid=18594&amp;pid=21916&amp;bid=639550"><img src="https://deepscan.io/api/teams/18594/projects/21916/branches/639550/badge/grade.svg" alt="DeepScan grade"></a>
<a href="https://depfu.com/github/Wappsto/javascript-wappsto-wapp?project_id=33978"><img src="https://badges.depfu.com/badges/f1e2997e207e0d62a4e7d9b87c8368c5/overview.svg" alt="Depfu"></a>
<a href="https://seluxit.com"><img src="https://img.shields.io/badge/Seluxit_A/S-1f324d.svg?logo=data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAABVCAYAAAA49ahaAAAACXBIWXMAABOvAAATrwFj5o7DAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAACjNJREFUeJztnX+wVVUVxz9cHr8fj5EfFipYU/AktBkyB6icgn4gMk5/NE0/SU1Ek6k0tAisrIQkkHKG6AeYFSmafzU2088BE0RiypHIDJlS0IGJhygC7/Hg8b79se7lnXveOveee88597776Duz583b5+y91/nec87ae6211xkgiT6AEcBlwCVAKzAZmAiMyh9rBlqA14HjwAngKLAf2AM8D/wL2J0/VlcMqBOpg4F3AbOBWcB0YFAK/Z4CdgKb8+WpfF1NUWtSLwc+A3wCGFeD8V4DfgVsBJ4EanKxtSB1OLAAWIQ91vXCHuAHwAagI8uBsiS1GbgB+AowPqtBqkAbsA74PnYnp44sSM0BNwN3A+dV2PYopnT2AHuBQ5jiOYEpqRZMcY0Azgcm0aPYRlU41hFgKbAe6K6wbUmkTeo7gR/m/8ZBG7AlXzZjhFaLVkzpFZTf2JjtdgK3AH9LMHYxJKVRBklaJemMyqNd0oOSrpI0MKXxw2WgpLn5cdpjyNQlaWX+OhKPn8YFXCxpRwzBX5Z0q6SWFMmLU1ok3ZYfvxy2S5qYdMykAl8j6UgZQV+UtFDSkBqTGS5DJN0kaV8ZeV+RdHW9SL1O0ukSwp2SdJ+k5jqTGS7DJN0l6WQJ2btkN0JNSf1aCYEk6QlJl/QBAkuVKZK2lriGbknLakXqmhKCnJF0t7JTQGmXJknLVVrBrs6a1DtLDH5I0gf7AFHVlDmS2kpc29JK+qtknnoT8KOIY/uAOdikPQlmAO+tot02bG0fxjjg05gBpxzGAJ/N/w1DwEJsiVseMdm/Rvby9rBb0gUp3C3Nkk6UuFtK4aSk0U6fj1TZn4cuxZwV5GLw/ibg58BA59hu7M46EOsXLI3zMONLNRiCb/W6sHpxemEg8AtgQrkTy5E6CHgQfw3/EjAPW0P3R3jGljHAo5Sx/ZYj9TuYMTmMw8AHMGL7KzYCrzj104Fvl2pYitTLgVud+m7gUyQzfjQCDmNKzrNg3Q5Mi2oYRWoOM+h679EVwB8qFLBR8TtgpVM/EPgxEfxFkXozdpuHsRW4qwrhGhlfx5+uXYEZ4XvBI7UFMzCHcQqbq52pVroGRRd23aedYyswD0cRPFIX4Wv71Zgb+FzEP4HvOfVjsae6CGFSh+Mrp33A8sSiNTa+Bbzs1C8GhgUrwqQuwHw/YawA2lMRrXFxArjHqX8jtrw9izCpn3MaHcRWEo2IYeVPqQgb8FePXwj+EyR1JhZ2E8Z3gZPpyVUztAKXptxnJ7DGqZ+MzQaAYlLnOyd3AA+kK1ckkr5egjFUU4A/E886Fae/INbjy3qWv4LpbzD2mI8OnfgQtnqqFRYDHwWaAnXN2F1XwF4sBqCALuDX2JKa/LlbKA7g6MBWgF0x5dgLfB5bVXnYBHw8VHcYuAA4XTBXzYowd82JY+rKuFxZgUytkg6Ezt8laWzKMs2L4OtKBUx/s5xfow34U8xfti/Au0P/Dryf6DuuWvwe39gyG3reqbOdEzbTOKunWhIK9hp53KmfBUbqCAKaK4AtGQiTBWpNaAGbnbqZwPAm4O34WtJrFMZbMc9AJTgK/BU/VrQFeAfFiuqy0DnT6HmCJgCrKPYrBQkdgMV1VRq89gLw7zLnePwMBi5FFhQRxmsxXtYfUrzYKQ8rnf4GSfpPlf0VEFZKq6rs54zieYaPOm3n5yierhQQxys6nfKegyi826l7A/DmKvsDkzn8yM+ssq8c5tkth71OXWsSUgfEOKcSJO3vOtJ9h8aRx+OpNYfvHWxEV8mrdRjTI3ViDlMOYXhzsP+jNzyeWpqAkc6BYxkLcz69bQ3hJXKl+DC21A6PkyU8nkZGkXo8Y2Emkb450XPQZQ2X1By+zTHTLTH9CJ61akQOn8C0jbv9FV6Y0okm7BYOewR7eQhTxtPAJ0N140m2NJ6LrYSCeAhboWUFVx8VSA1vHvNOThMd9J6OJDVSv+D0mfVrzJs5HctRbPAtIO4epHMdXizr6zn8ILNJGQvj4S11GDMpvL22+3NELLVidBjXNeEhbKdtBR5J0B/48iSxB8e5PneJH0Wq51UN4zfY3tFK0YkFEQcF20KyifofgRed+o358SrFf4HHypwzAP9O3YOkGRHmr8kxTF9Ji+dTekbF5rtKfFS1LFMieLsih4WYe9kbPBdLmvAs9ruwYOIsLfZpwfPrdQLP5jD/9s6YjdJCoxMKZrsN4ymgvWBk9lwDsyl2a6SF/kBoE/A+p34L9FjuvZXMWOxC00R/IBTgKnyr2mYojlA5QO/J7CZ6LycLGAesJf78ciimLYM7O8KE3gF8hMojVB6jtqGeDwMfC9W1YVuMTge12VpHk7VLGhWh/W6P0H5xEdbyYxL2d5Gy0/TB0iI/McN9hXOCjruNzi8yDLg+4teqdiMZmHIMP/JJ+gOLX6gFFuJb8c7yFyT1L/jh51/GHt008SyN9Q4tYChwm1P/HBbLAPR2Ma9zGozHEnSlCW9TQiNgARbZF8ba4D9hUjdgS7QwlpH88Wx0NANLnPqDwE+DFWFSO/B3YUwE7kxFtMbFN/A3EK8mFGnuRZisw3e9LsYilM9FTAW+6NS3YTv/iuCRegx73MMYDPyEbFZZfRlNWEi6t3N6CU4Ye1Qs1Hpgh1P/HuCb1UrXoFiOH5O1E/iZ1yCK1G5s559n5F2CpfY4FzAXW+WFcQZLf+LmCCwVtfc0cG9Em1/S//1YU7Dr9ALVVgLPRDUsFwq5DH8H8Vjg2rjSNSAuBH6LbzTZQZmd5OVI7cIMKl5KD8892x8wGtsocbFz7DC2Jank4iVO0O5+LJgszU0Vngf3CNX7/k9Snb8sjIuAJ7ApVBhdWKYKb9NvESrJSzUfc9h575hXsVVFW4x+OrF3lbf2n45v/C2HrcD2KtoFMQXLRDHROSbgRuD+WD1VaPZaVsL0dliWE7XeDrlqyjxZNsoofLWS/qoRYHWJwbslrZDl0Ks3UXFKk2xTR3eJa1pVab/VCrO0jCDbJL2tD5BWqkyVJaGNQrcqvEOTkoqkaxUvf+rIPkBgsAyX5U/tLCF7l6Qbqx0jqYBXy96lpfCSpFskDa0zmUMlLVL5NMptShiwkYawEyQ9WUZQySJRvqRon1dWZZSkxZIOxpBxq1LwdaUleJOkexSduTKIdkmbZHd5VgqtSabRH5bUEUOm07LktKnIk3ae/2mYPTbObjkwu+3j9HxAJkmKpilYAMhsbK4bd7fLdizP/64EYxchqy9S3IBlCKrU6HKMnk8hPY8tJo7nS+GLFM35Mg6LIyh8kaLS6O82zOL2ACl/qCbLb6eMwBxld5BuHtOkOIR9NWMNfhR5YtTiKz/DsDt3EfHiXrPCc1hSyPvJOHtRrb9HNRWzIVxP9rvxwGwSj2KBDttqMB5Qvy+nDcKUWUGxzCBZuqMCOjF7Z0Hx7SBZGH1VqBepYQzHEnMFv/F3McWKaRSW1SKouPbR832/PcA/6APp8/4H78BGyNiHjeEAAAAASUVORK5CYII=" alt="Seluxit A/S"></a>
<a href="https://wappsto.com"><img src="https://img.shields.io/badge/Wappsto-1f324d.svg?logo=data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAEuAAABLgF7cRpNAAAEM0lEQVR4nO1bwY3bMBCcyysBEpw6sDo4P4LgflEHUQm6DlyCSrgOTiU43yAPpgOVoOtATh55bh6iHJm3uyJFOQxwGmCB2CR3h0tyuVxfbogIrxlvUhNIjc0BqQmkxuaA1ARSY3NAagKpsTkgNYHU2BwgfF8BOAIgRloABwD59el5I8fAqQXP+YhhTi9BRFPZE1FL/miIKHN0/EvJLAdftHaOZx3u5PsAZSN6V+k/klX4jsryhcqmqALIx0oVybWnYc5nB4RsIw0l/f+TH9EQEW6I6C2A30Jw+QqgAdDbz4UNJjuh/8n2af3jVxD2AAyAW6H9GQNfYz9nGPh+Efq/G7c/h1pZhaPi2WvFhLkzfyQ5INfCmBxEVAiNMVuxU8gskbkY5RN/OBQxiVAD4EFo29ltmEXoH5FhuMelbf9guSwDEd0L3vFdwUdlZY6RKw/S8xLtmE4lE8bfazEgJKI3Cslm4cTX1FsKOnLtfDwGkjUKWZ8z6spB0RfqVGmXQiPfBRrJSN+uRYCuStHTUniA7Rg9ZuoAydt5oKGc5Gjtez1q1123YPK5oOtAROfXoBFiZBEYUzs75sS03WKI5trNkEFOdE4ASvxNynxRCN8bABePIc7roWfNZwsbZdxaR2gqDaOrH9unHbnsrqdlRrVjRcQ7liM6oorgwS3s+Xr2WbWYtNZ3UmtG/Kns52x7B4sImdvWhdKuHZeYXZiPfdwB3RVIZCRH9V9E9FNoW3LduWIYvd20j/sWODLR8nNg1HXRQ74Z3gP4wHx/wvCMDY34LjjuF3N0HWAERWUkkbGQ6osK8TUFibO5+MRsGw6habEktaB/inolW2L6O5VF5yZSvimT/76iHa94xtUDuDiwwzq/A2QAPintH7FODSEHX7Z7MTfOAUZQWiymc6lbKmzAtkn2Q1Ao9i/AOaAFH7FjA2ED4M6j3x1iKjwDOK4ncIFVOD8Nc35i0uJKOfcSqgh73u8aqSZomO9uMZSlQ7EH8CS0/bDC4SnCHnfMDNc5xAFA+DEYn7ccnq2+0v5b4hEaFP3u/xHKNuJy+DZwK0rvALc4ohVB1rAp6tAUSYmEb37OxZER3PnW4gR7fhmRqr9iIqcpKwRlPtVibTJaVqmV2H2ComS3kMbMKeQwtxqS44j8XpZGGS9OhPRdJ46ZI8NViTql/xoFzYz4NJZovrDKjVN/nJn7aYyLnDvwmVaJdQqave0rFVYN+EhfgE9/jWptZjVyZSUONGzJmvRtS7QsqdHiCFmbteVwIHnn5ZodHyJzk5tD7WFDkjrS9mzM8SFRRBBoPPTPSRNhv5jTf00SaxVRQPr1KMHL+dcg0dF1/laoJPl2cOHt/FASOQ2edYn0NFw31RUm7kplbblBr7Pc8hB9N0Tbf5p61dgckJpAamwOSE0gNTYHpCaQGpsDUhNIjVfvgD9WFsGCdX/VsgAAAABJRU5ErkJggg==" alt="Wappsto"></a></p>
<p>This is a node/js library for easily creating wapps for <a href="https://wappsto.com">Wappsto</a>.</p>
<p>In depth documentation can be found on <a href="https://wappsto.github.io/javascript-wappsto-wapp/">Github Pages</a></p>
<a id="table-of-contents" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Table of Contents<a href="#table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#install">Install</a>
<ul>
<li><a href="#node">Node</a></li>
<li><a href="#browser">Browser</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a></li>
<li><a href="#create-a-new-iot-device">Create a new IoT Device</a></li>
<li><a href="#to-report-a-change-in-the-value">To report a change in the value</a></li>
<li><a href="#listing-for-requests-to-refresh-the-value">Listing for requests to refresh the value</a></li>
<li><a href="#reporting-events-for-value">Reporting events for value</a></li>
<li><a href="#accessing-existing-objects">Accessing Existing Objects</a>
<ul>
<li><a href="#advanced-filtering-for-accessing-existing-objects">Advanced Filtering for Accessing Existing Objects</a></li>
</ul>
</li>
<li><a href="#to-find-a-child-from-an-existing-object">To find a child from an existing object</a></li>
<li><a href="#list-all-objects-by-type">List all objects by type</a></li>
<li><a href="#retrieve-object-by-id">Retrieve object by ID</a></li>
<li><a href="#to-change-a-value-on-a-network-created-outside-your-wapp">To change a value on a network created outside your wapp</a></li>
<li><a href="#to-reload-a-model-from-the-server">To reload a model from the server</a></li>
<li><a href="#listing-for-changes-on-values">Listing for changes on values</a></li>
<li><a href="#sending-an-update-event-to-a-device">Sending an update event to a device</a></li>
<li><a href="#loading-historical-data">Loading historical data</a></li>
<li><a href="#check-if-a-device-is-online">Check if a device is online</a></li>
<li><a href="#changing-the-period-and-delta-of-a-value">Changing the period and delta of a value</a></li>
<li><a href="#deleting-an-item-that-was-created">Deleting an item that was created</a></li>
<li><a href="#analyzing-historical-data">Analyzing historical data</a></li>
<li><a href="#sending-messages-to-and-from-the-background">Sending messages to and from the background</a></li>
<li><a href="#waiting-for-the-background-to-be-ready">Waiting for the background to be ready</a></li>
<li><a href="#permission-updated">Permission updated</a></li>
<li><a href="#web-hook">Web Hook</a></li>
<li><a href="#wapp-storage">Wapp Storage</a></li>
<li><a href="#oauth">OAuth</a></li>
<li><a href="#notification">Notification</a></li>
<li><a href="#ontology">Ontology</a></li>
<li><a href="#background-logging">Background logging</a></li>
<li><a href="#raw-requests">Raw requests</a></li>
<li><a href="#wapp-version">Wapp Version</a></li>
<li><a href="#config">Config</a>
<ul>
<li><a href="#enable-verbose-responses-from-wappsto">Enable verbose responses from wappsto</a></li>
<li><a href="#validation">Validation</a></li>
<li><a href="#stream-reconnect-count">Stream Reconnect Count</a></li>
</ul>
</li>
</ul>
<a id="install" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="node" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Node<a href="#node" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To install the node module in your project, run this command:</p>
<pre><code class="shell"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">i</span><span class="hl-1"> </span><span class="hl-3">--save</span><span class="hl-1"> </span><span class="hl-2">wappsto-wapp</span>
</code><button type="button">Copy</button></pre>

<p>Or using <code>yarn</code>:</p>
<pre><code class="shell"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">wappsto-wapp</span>
</code><button type="button">Copy</button></pre>

<p>And include it in your project like this:</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1"> = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;wappsto-wapp&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>or</p>
<pre><code class="javascript"><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;wappsto-wapp&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<a id="browser" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Browser<a href="#browser" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To use it in a webpage, include this script tag:</p>
<pre><code class="html"><span class="hl-6">&lt;</span><span class="hl-7">script</span><span class="hl-8"> </span><span class="hl-9">src</span><span class="hl-8">=</span><span class="hl-10">&quot;https://cdn.jsdelivr.net/npm/wappsto-wapp@latest/dist/wappsto-wapp.min.js&quot;</span><span class="hl-6">&gt;&lt;/</span><span class="hl-7">script</span><span class="hl-6">&gt;</span>
</code><button type="button">Copy</button></pre>

<a id="usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Here are some examples on how to use the library.</p>
<a id="create-a-new-iot-device" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Create a new IoT Device<a href="#create-a-new-iot-device" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>First you need to create a IoT network.
To create a new network you need to call 'createNetwork'. If there is
an Network with the same name, the existing network will be returned.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">network</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">createNetwork</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;new network name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Then you need to create a device. To create a new device under an
existing network, you should call createDevice. If a device exists
with the given name, the existing device will be returned.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">network</span><span class="hl-1">.</span><span class="hl-0">createDevice</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Device Name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">product:</span><span class="hl-1"> </span><span class="hl-2">&#39;Great Product&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">serial:</span><span class="hl-1"> </span><span class="hl-2">&#39;SG123456&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;My great new device&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">protocol:</span><span class="hl-1"> </span><span class="hl-2">&#39;WAPP-JS&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">communication:</span><span class="hl-1"> </span><span class="hl-2">&#39;wapp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;1.0.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">manufacturer:</span><span class="hl-1"> </span><span class="hl-2">&#39;My Self&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Then you need to create new values.
To create a new value under an existing device, you should call
createValue. If a value exists with the given name, the existing
value will be returned.
There will also be created the states needed based on the
permission. The only allowed values for permission is 'r', 'w' and
'rw'. The state will have 'NA' as the initial data. This can be changed by
setting the <code>initialState</code> when creating the value. You can also define the initial
timestamp by setting initialState as an object with data and timestamp.
The list of available value templates can be seen in the
<a href="https://github.com/Wappsto/javascript-wappsto-wapp/blob/main/src/util/value_template.ts">value_template.ts</a> file.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">createValue</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Temperature&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">permission:</span><span class="hl-1"> </span><span class="hl-2">&#39;r&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">template:</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">ValueTemplate</span><span class="hl-1">.</span><span class="hl-11">TEMPERATURE_CELSIUS</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>It is also possible to define a period for how often the library
should poll your values for updates. In this way regularly reports will
be send to the cloud. It is also possible to filter out small changes
by setting the delta for number values. With the delta set, reported
changes that are not bigger then the delta will be discarded. In the
example below, period is set to 3600 [sec.], i.e. 1 hour interval and
delta to 2 [deg.]. So changes in value data will only apply if after
one hour new temperature value is bigger than 2 [deg.] of previous
temperature value.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">createValue</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Temperature&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">permission:</span><span class="hl-1"> </span><span class="hl-2">&#39;r&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">template:</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">ValueTemplate</span><span class="hl-1">.</span><span class="hl-11">TEMPERATURE_CELSIUS</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">period:</span><span class="hl-1"> </span><span class="hl-12">3600</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">delta:</span><span class="hl-1"> </span><span class="hl-2">&#39;2&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>It is also possible to define a value where the data is not put into
the historical log. This is done by setting the <code>disableLog</code> to
<code>true</code>. This can be set on the <code>createValue</code> and the special versions
of the createValue function.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">createValue</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Temperature&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">permission:</span><span class="hl-1"> </span><span class="hl-2">&#39;r&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">template:</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">ValueTemplate</span><span class="hl-1">.</span><span class="hl-11">TEMPERATURE_CELSIUS</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">disableLog:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>There are some helper functions to create custom number, string, blob
and xml values. To create a custom number value:</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">createNumberValue</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Value Name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">permission:</span><span class="hl-1"> </span><span class="hl-2">&#39;rw&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;Counter&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">period:</span><span class="hl-1"> </span><span class="hl-2">&#39;1h&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">delta:</span><span class="hl-1"> </span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">min:</span><span class="hl-1"> </span><span class="hl-12">0</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">max:</span><span class="hl-1"> </span><span class="hl-12">10</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">step:</span><span class="hl-1"> </span><span class="hl-12">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">unit:</span><span class="hl-1"> </span><span class="hl-2">&#39;count&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">si_conversion:</span><span class="hl-1"> </span><span class="hl-2">&#39;c&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">disableLog:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">initialState:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">data:</span><span class="hl-1"> </span><span class="hl-12">0</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-2">&#39;2022-02-02T02:02:02Z&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>To create a custom string value:</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">createStringValue</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;String Value Name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">permission:</span><span class="hl-1"> </span><span class="hl-2">&#39;rw&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">max:</span><span class="hl-1"> </span><span class="hl-12">10</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">encoding:</span><span class="hl-1"> </span><span class="hl-2">&#39;debug string&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>To create a custom blob value:</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">createBlobValue</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Blob Value Name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">permission:</span><span class="hl-1"> </span><span class="hl-2">&#39;r&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;binary&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">max:</span><span class="hl-1"> </span><span class="hl-12">10</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">encoding:</span><span class="hl-1"> </span><span class="hl-2">&#39;binary&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>To create a custom xml value:</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">createBlobValue</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;XML Value Name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">permission:</span><span class="hl-1"> </span><span class="hl-2">&#39;rw&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;config&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;seluxit&#39;</span><br/><span class="hl-1">    </span><span class="hl-4">xsd</span><span class="hl-1">: </span><span class="hl-2">&#39;https://xsd.com/test.xsd&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="to-report-a-change-in-the-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">To report a change in the value<a href="#to-report-a-change-in-the-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To send a new data point to wappsto, just call the <code>report</code> function
on the value. If you omit the timestamp, it will get the curren time as timestamp.
It is possible to send number, string, boolean and objects.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">report</span><span class="hl-1">(</span><span class="hl-12">1</span><span class="hl-1">);</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">report</span><span class="hl-1">(</span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;2022-02-02T02:02:02Z&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">report</span><span class="hl-1">(</span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">report</span><span class="hl-1">({ </span><span class="hl-4">my_data:</span><span class="hl-1"> </span><span class="hl-2">&#39;is updated&#39;</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>And to get the last reported data and timestamp.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">getReportData</span><span class="hl-1">();</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">timestamp</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">getReportTimestamp</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>If you need to report multiple historical data, you can specify an array of data, timestamp pairs.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">report</span><span class="hl-1">([</span><br/><span class="hl-1">    { </span><span class="hl-4">data:</span><span class="hl-1"> </span><span class="hl-12">1</span><span class="hl-1">, </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-2">&#39;2022-02-02T02:02:01Z&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-4">data:</span><span class="hl-1"> </span><span class="hl-12">2</span><span class="hl-1">, </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-2">&#39;2022-02-02T02:02:02Z&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-4">data:</span><span class="hl-1"> </span><span class="hl-12">3</span><span class="hl-1">, </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-2">&#39;2022-02-02T02:02:03Z&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<p>If you do not want the current report state to change, you can use the <code>sendLogReports</code> instead.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">sendLogReports</span><span class="hl-1">([</span><br/><span class="hl-1">    { </span><span class="hl-4">data:</span><span class="hl-1"> </span><span class="hl-12">1</span><span class="hl-1">, </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-2">&#39;2022-02-02T02:02:01Z&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-4">data:</span><span class="hl-1"> </span><span class="hl-12">2</span><span class="hl-1">, </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-2">&#39;2022-02-02T02:02:02Z&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { </span><span class="hl-4">data:</span><span class="hl-1"> </span><span class="hl-12">3</span><span class="hl-1">, </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-2">&#39;2022-02-02T02:02:03Z&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<a id="listing-for-requests-to-refresh-the-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Listing for requests to refresh the value<a href="#listing-for-requests-to-refresh-the-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To receive request to refresh the value, register a callback on
<code>onRefresh</code>. This can be triggered by an user request or an
automatic event from the library based on the period.</p>
<pre><code class="javascript"><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">onRefresh</span><span class="hl-1">((</span><span class="hl-4">value</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">report</span><span class="hl-1">(</span><span class="hl-12">1</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>It is possible to get the type of the source of the refresh event.
But you should not use this information to not send an update on the value.
It is important to always send value updates on all refresh requests.</p>
<pre><code class="javascript"><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">onRefresh</span><span class="hl-1">((</span><span class="hl-4">value</span><span class="hl-1">, </span><span class="hl-4">type</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Got a refresh event from </span><span class="hl-3">${</span><span class="hl-4">type</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>And you can cancel this callback by calling <code>cancelOnRefresh</code>.</p>
<pre><code class="javascript"><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">cancelOnRefresh</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="reporting-events-for-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Reporting events for value<a href="#reporting-events-for-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to save events in an event log for each value. Call
<code>addEvent</code> on a value to create an event entry.</p>
<p>The possible values for level is:</p>
<ul>
<li>important</li>
<li>error</li>
<li>success</li>
<li>warning</li>
<li>info</li>
<li>debug</li>
</ul>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">addEvent</span><span class="hl-1">(</span><span class="hl-2">&#39;error&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;something went wrong&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="accessing-existing-objects" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Accessing Existing Objects<a href="#accessing-existing-objects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To request access to an existing object, you need to send a request. You can request a single object or multiple objects of the same type. To request access to multiple objects, specify the desired quantity after using the <code>findByName('name', 3)</code> syntax. Alternatively, you can request access to all possible objects that match the query by calling <code>findAllByName</code>. If you only require read access to the data, you can set the <code>readOnly</code> parameter to <code>true</code>.</p>
<p>To request access to a network with a specific name, utilize the <code>findByName</code> function.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneNetwork</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Network</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Network name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneReadOnlyNetwork</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Network</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;Network name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">true</span><br/><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">multipleNetworks</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Network</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Network name&#39;</span><span class="hl-1">, </span><span class="hl-12">3</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allNetworks</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Network</span><span class="hl-1">.</span><span class="hl-0">findAllByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Network name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allReadOnlyNetworks</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Network</span><span class="hl-1">.</span><span class="hl-0">findAllByName</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;Network name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">true</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>To request access to a device with a specific name, use <code>findByName</code>.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneDevice</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Device name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneReadOnlyDevice</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Device name&#39;</span><span class="hl-1">, </span><span class="hl-12">1</span><span class="hl-1">, </span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">multipleDevices</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Device name&#39;</span><span class="hl-1">, </span><span class="hl-12">3</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allDevices</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findAllByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Device name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allReadOnlyDevices</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findAllByName</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;Device name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">true</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>To request access to a device with a specific product, use <code>findByProduct</code>.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneDevice</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findByProduct</span><span class="hl-1">(</span><span class="hl-2">&#39;Product name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneReadOnlyDevice</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findByProduct</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;Product name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">true</span><br/><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">multipleDevices</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findByProduct</span><span class="hl-1">(</span><span class="hl-2">&#39;Product name&#39;</span><span class="hl-1">, </span><span class="hl-12">3</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allDevices</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findAllByProduct</span><span class="hl-1">(</span><span class="hl-2">&#39;Product name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allReadOnlyDevices</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findAllByProduct</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;Product name&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">true</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>To request access to a value with a specific name, use <code>findByName</code>.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneValue</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Value name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneReadOnlyValue</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Value name&#39;</span><span class="hl-1">, </span><span class="hl-12">1</span><span class="hl-1">, </span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">multipleValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Value name&#39;</span><span class="hl-1">, </span><span class="hl-12">3</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findAllByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Value name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allReadOnlyValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findAllByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Value name&#39;</span><span class="hl-1">, </span><span class="hl-3">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>To request access to a value with a specific type, use <code>findByType</code>.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneValue</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByType</span><span class="hl-1">(</span><span class="hl-2">&#39;Type name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneReadOnlyValue</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByType</span><span class="hl-1">(</span><span class="hl-2">&#39;Type name&#39;</span><span class="hl-1">, </span><span class="hl-12">1</span><span class="hl-1">, </span><span class="hl-3">true</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">multipleValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByType</span><span class="hl-1">(</span><span class="hl-2">&#39;Type name&#39;</span><span class="hl-1">, </span><span class="hl-12">3</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findAllByType</span><span class="hl-1">(</span><span class="hl-2">&#39;Type name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allReadOnlyValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findAllByType</span><span class="hl-1">(</span><span class="hl-2">&#39;Type name&#39;</span><span class="hl-1">, </span><span class="hl-3">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="advanced-filtering-for-accessing-existing-objects" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Advanced Filtering for Accessing Existing Objects<a href="#advanced-filtering-for-accessing-existing-objects" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Enhance your control over the specific objects you request by utilizing advanced filters. Combine various keys in the filter to refine the returned objects. To find multiple objects of the same type, utilize an array with the values. The filter primarily consists of three main entry points: network, device, and value. A filter value can be a string, number, or an array of strings or numbers. Additionally, you can specify the operator used to compare attributes using an object with the 'operator' and 'value' keys.</p>
<pre><code class="javascript"><span class="hl-1">{ </span><span class="hl-13">operator</span><span class="hl-1">: </span><span class="hl-2">&#39;==&#39;</span><span class="hl-1">, </span><span class="hl-13">value</span><span class="hl-1">: </span><span class="hl-2">&#39;test&#39;</span><span class="hl-1"> }</span>
</code><button type="button">Copy</button></pre>

<p>The permitted operators are: '=', '!=', '==', '&lt;', '&lt;=', '&gt;', '&gt;=', '~', '!~'.</p>
<p>You can see the possible filters below.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">filter</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">network:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">device:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">product:</span><span class="hl-1"> [</span><span class="hl-2">&#39;&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">        </span><span class="hl-4">serial:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">protocol:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">communication:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">version:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">manufacturer:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">value:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">permission:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">period:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">delta:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">number:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">min:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">max:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">step:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">unit:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">si_conversion:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-4">string:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">max:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">encoding:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-4">blob:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">max:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">encoding:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-4">xml:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-4">xsd:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-4">namespace:</span><span class="hl-1"> </span><span class="hl-2">&#39;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<p>Once you've defined the filter, utilize it with the functions <code>findByFilter</code> and <code>findAllByFilter</code> on <code>Network</code>, <code>Device</code>, and <code>Value</code>.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">filter</span><span class="hl-1"> = { </span><span class="hl-4">value:</span><span class="hl-1"> { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;energy&#39;</span><span class="hl-1"> } };</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneValue</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByFilter</span><span class="hl-1">(</span><span class="hl-4">filter</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findAllByFilter</span><span class="hl-1">(</span><span class="hl-4">filter</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>You can also use the filter to exclude objects by providing a second filter to <code>findByFilter</code> and <code>findAllByFilter</code>. Specify the number of items to request with a third parameter. Additionally, indicate that the items are only needed for reading by setting the fourth parameter to true.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">filter</span><span class="hl-1"> = { </span><span class="hl-4">value:</span><span class="hl-1"> { </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;energy&#39;</span><span class="hl-1"> } };</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">omit_filter</span><span class="hl-1"> = { </span><span class="hl-4">device:</span><span class="hl-1"> { </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Wrong&#39;</span><span class="hl-1"> } };</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">oneValue</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findByFilter</span><span class="hl-1">(</span><span class="hl-4">filter</span><span class="hl-1">, </span><span class="hl-4">omit_filter</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">multipleValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByFilter</span><span class="hl-1">(</span><span class="hl-4">filter</span><span class="hl-1">, </span><span class="hl-4">omit_filter</span><span class="hl-1">, </span><span class="hl-12">3</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">multipleReadOnlyValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findByFilter</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">filter</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">omit_filter</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-12">3</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">true</span><br/><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findAllByFilter</span><span class="hl-1">(</span><span class="hl-4">filter</span><span class="hl-1">, </span><span class="hl-4">omit_filter</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">allReadOnlyValues</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findAllByFilter</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">filter</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">omit_filter</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-3">true</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="to-find-a-child-from-an-existing-object" class="tsd-anchor"></a><h3 class="tsd-anchor-link">To find a child from an existing object<a href="#to-find-a-child-from-an-existing-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To find devices under a network, you can call <code>findDeviceByName</code> to
search for all devices with the given name.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">devices</span><span class="hl-1"> = </span><span class="hl-4">network</span><span class="hl-1">.</span><span class="hl-0">findDeviceByName</span><span class="hl-1">(</span><span class="hl-2">&#39;Device name&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Or you can search for all devices with a given product.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">devices</span><span class="hl-1"> = </span><span class="hl-4">network</span><span class="hl-1">.</span><span class="hl-0">findDeviceByProduct</span><span class="hl-1">(</span><span class="hl-2">&#39;Device product&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>To find all values under a network or device, you can call
<code>findValueByName</code> to search for all values with the given name.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">values</span><span class="hl-1"> = </span><span class="hl-4">network</span><span class="hl-1">.</span><span class="hl-0">findValueByName</span><span class="hl-1">(</span><span class="hl-2">&#39;value name&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">values</span><span class="hl-1"> = </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">findValueByName</span><span class="hl-1">(</span><span class="hl-2">&#39;value name&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>Or you can find all values with a given type, by calling
<code>findValueByType</code>.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">values</span><span class="hl-1"> = </span><span class="hl-4">network</span><span class="hl-1">.</span><span class="hl-0">findValueByType</span><span class="hl-1">(</span><span class="hl-2">&#39;value type&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">values</span><span class="hl-1"> = </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">findValueByType</span><span class="hl-1">(</span><span class="hl-2">&#39;value type&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="list-all-objects-by-type" class="tsd-anchor"></a><h3 class="tsd-anchor-link">List all objects by type<a href="#list-all-objects-by-type" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To list all objects of a spefic type that you have access to use <code>fetch</code> to get then all.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">networks</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Network</span><span class="hl-1">.</span><span class="hl-0">fetch</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="retrieve-object-by-id" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Retrieve object by ID<a href="#retrieve-object-by-id" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you already have access to some objects, you can retrieve them
directly by their ID.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">network</span><span class="hl-1"> = </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Network</span><span class="hl-1">.</span><span class="hl-0">findById</span><span class="hl-1">(</span><span class="hl-2">&#39;655937ac-c054-4cc0-80d7-400486b4ceb3&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1"> = </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Device</span><span class="hl-1">.</span><span class="hl-0">findById</span><span class="hl-1">(</span><span class="hl-2">&#39;066c65d7-6612-4826-9e23-e63a579fbe8b&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1"> = </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">Value</span><span class="hl-1">.</span><span class="hl-0">findById</span><span class="hl-1">(</span><span class="hl-2">&#39;1157b4fa-2745-4940-9201-99eee5929eff&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="to-change-a-value-on-a-network-created-outside-your-wapp" class="tsd-anchor"></a><h3 class="tsd-anchor-link">To change a value on a network created outside your wapp<a href="#to-change-a-value-on-a-network-created-outside-your-wapp" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To send a new data point to another value, just call the <code>control</code>
function on the value.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">control</span><span class="hl-1">(</span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-4">result</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">warn</span><span class="hl-1">(</span><span class="hl-2">&#39;Failed to send control to device&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>If you need to verify that the device send back a report, you can use
<code>controlWithAck</code> to wait for the incoming report. It will return the
received value from the device.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">controlWithAck</span><span class="hl-1">(</span><span class="hl-2">&#39;1&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">switch</span><span class="hl-1"> (</span><span class="hl-4">result</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">undefined</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Failed to control device&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">case</span><span class="hl-1"> </span><span class="hl-3">null</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Timeout while waiting for response&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-5">default</span><span class="hl-1">:</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Received </span><span class="hl-3">${</span><span class="hl-4">result</span><span class="hl-3">}</span><span class="hl-2"> from the device`</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-5">break</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>And to get the last controlled data and timestamp.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">getControlData</span><span class="hl-1">();</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">timestamp</span><span class="hl-1"> = </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">getControlTimestamp</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="listing-for-changes-on-values" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Listing for changes on values<a href="#listing-for-changes-on-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can register onControl and onReport to receive events when the
value changes.</p>
<pre><code class="javascript"><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">onReport</span><span class="hl-1">((</span><span class="hl-4">value</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">, </span><span class="hl-4">timestamp</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-3">${</span><span class="hl-4">value</span><span class="hl-8">.</span><span class="hl-4">name</span><span class="hl-3">}</span><span class="hl-2"> changed it&#39;s report value to </span><span class="hl-3">${</span><span class="hl-4">data</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">onControl</span><span class="hl-1">((</span><span class="hl-4">value</span><span class="hl-1">, </span><span class="hl-4">data</span><span class="hl-1">, </span><span class="hl-4">timestamp</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Request to change </span><span class="hl-3">${</span><span class="hl-4">value</span><span class="hl-8">.</span><span class="hl-4">name</span><span class="hl-3">}</span><span class="hl-2"> to </span><span class="hl-3">${</span><span class="hl-4">data</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>If you want the onReport callback to be called with the current data,
then you can set the ´callOnInit´ to <code>true</code> when registering your
<code>onReport</code> callback.</p>
<pre><code class="javascript"><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">onReport</span><span class="hl-1">(</span><span class="hl-4">reportCallback</span><span class="hl-1">, </span><span class="hl-3">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>And you can cancel these callbacks by calling <code>cancelOnReport</code> and
<code>cancelOnControl</code>.</p>
<pre><code class="javascript"><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">cancelOnReport</span><span class="hl-1">();</span><br/><br/><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">cancelOnControl</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="to-reload-a-model-from-the-server" class="tsd-anchor"></a><h3 class="tsd-anchor-link">To reload a model from the server<a href="#to-reload-a-model-from-the-server" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you want to load the newsiest data from the server manually, you can
call <code>reload</code> on the model, to get the latest data for that model.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">reload</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>If you want to also load all the children data, you should call
<code>reload</code> with <code>true</code>.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">reload</span><span class="hl-1">(</span><span class="hl-3">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="sending-an-update-event-to-a-device" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Sending an update event to a device<a href="#sending-an-update-event-to-a-device" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To send an event to a device to get a new report data.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">refresh</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="loading-historical-data" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Loading historical data<a href="#loading-historical-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to load historical data for a value. Both report and
control data can be loaded using <code>getReportLog</code> and
<code>getControlLog</code>. Each function takes a <code>LogRequest</code> object, where you
can define the parameters for the log service.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">historicalReportData</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">getReportLog</span><span class="hl-1">({});</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">historicalControlData</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">getControlLog</span><span class="hl-1">({});</span>
</code><button type="button">Copy</button></pre>

<p>The <code>LogRequest</code> object is defined like this:</p>
<table>
<thead>
<tr>
<th><strong>Key</strong></th>
<th><strong>Type</strong></th>
<th><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td>date</td>
<td>The start time for the log request</td>
</tr>
<tr>
<td>end</td>
<td>date</td>
<td>The end time for the log request</td>
</tr>
<tr>
<td>limit</td>
<td>number</td>
<td>The maximum number of items in the result</td>
</tr>
<tr>
<td>offset</td>
<td>number</td>
<td>How many items that should be skipped before returning the result</td>
</tr>
<tr>
<td>operation</td>
<td>string</td>
<td>What operation should be performed on the data before returning it</td>
</tr>
<tr>
<td>group_by</td>
<td>string</td>
<td>What time interval should the log data be grouped by</td>
</tr>
<tr>
<td>timestamp_format</td>
<td>string</td>
<td>The format the timestamp should be converted into</td>
</tr>
<tr>
<td>timezone</td>
<td>string</td>
<td>If the timestamp should be converted to a timezone instead of UTZ</td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>Should the result be ordered ascending or descending</td>
</tr>
<tr>
<td>order_by</td>
<td>string</td>
<td>The field that should be used to order by</td>
</tr>
<tr>
<td>number</td>
<td>boolean</td>
<td>If only numbers should be returned in the log response</td>
</tr>
<tr>
<td>all</td>
<td>boolean</td>
<td>Return all the log data</td>
</tr>
</tbody>
</table>
<a id="check-if-a-device-is-online" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Check if a device is online<a href="#check-if-a-device-is-online" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to check if a network or device is online by calling
<code>isOnline</code>.</p>
<pre><code class="javascript"><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">network</span><span class="hl-1">.</span><span class="hl-0">isOnline</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Network is online&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">isOnline</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Device is online&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can also register a callback that are called every time the
connection status changes.</p>
<pre><code class="javascript"><span class="hl-4">network</span><span class="hl-1">.</span><span class="hl-0">onConnectionChange</span><span class="hl-1">((</span><span class="hl-4">network</span><span class="hl-1">, </span><span class="hl-4">status</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-2">`Network </span><span class="hl-3">${</span><span class="hl-4">network</span><span class="hl-8">.</span><span class="hl-4">name</span><span class="hl-3">}</span><span class="hl-2"> is now </span><span class="hl-3">${</span><span class="hl-4">status</span><span class="hl-8"> </span><span class="hl-1">?</span><span class="hl-8"> </span><span class="hl-2">&#39;online&#39;</span><span class="hl-8"> </span><span class="hl-1">:</span><span class="hl-8"> </span><span class="hl-2">&#39;offline&#39;</span><span class="hl-3">}</span><span class="hl-2">`</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>To remove the registered callback, you must call the <code>cancelOnConnectionChange</code> method with the same callback function as a parameter.</p>
<p>If you have a created your own device, you can set it online/offline
by calling <code>setConnectionStatus</code> on the device. This will automatic create
a <code>CONNECTION_STATUS</code> value if needed.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">device</span><span class="hl-1">.</span><span class="hl-0">setConnectionStatus</span><span class="hl-1">(</span><span class="hl-3">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="changing-the-period-and-delta-of-a-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Changing the period and delta of a value<a href="#changing-the-period-and-delta-of-a-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To change the delta and period of a value you can call <code>setDelta</code> or
<code>setPeriod</code>.</p>
<pre><code class="javascript"><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">setPeriod</span><span class="hl-1">(</span><span class="hl-2">&#39;300&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">setDelta</span><span class="hl-1">(</span><span class="hl-12">2.2</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="deleting-an-item-that-was-created" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Deleting an item that was created<a href="#deleting-an-item-that-was-created" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to remove an item that you have created by calling <code>delete</code> on the item.
This will remove the item from the backend.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">delete</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="analyzing-historical-data" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Analyzing historical data<a href="#analyzing-historical-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to use the Analytic Backend to analyze the historical
data of a value.</p>
<a id="energy-data" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Energy Data<a href="#energy-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To convert the total energy value into a load curve value, call <code>analyzeEnergy</code> with a start and end time on the value that you want to analyze.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">energy_data</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">value</span><span class="hl-1">.</span><span class="hl-0">analyzeEnergy</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;2022-01-01T00:00:00Z&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;2023-01-01T00:00:00Z&#39;</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="sending-messages-to-and-from-the-background" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Sending messages to and from the background<a href="#sending-messages-to-and-from-the-background" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Messages can be exchanged between the foreground and the background of your Wapp, using event handlers. These event handlers are triggered for each message sent and the return value of your event handler is sent back to the sender.</p>
<a id="example-code-for-the-foreground-part" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example code for the foreground part<a href="#example-code-for-the-foreground-part" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">fromBackground</span><span class="hl-1">((</span><span class="hl-4">msg</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Message from the background: &#39;</span><span class="hl-1"> + </span><span class="hl-4">msg</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">&#39;Hello back&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">backgroundResult</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">sendToBackground</span><span class="hl-1">(</span><span class="hl-2">&#39;hello&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Result from background: &#39;</span><span class="hl-1"> + </span><span class="hl-4">backgroundResult</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="example-code-for-the-background-part" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Example code for the background part<a href="#example-code-for-the-background-part" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">fromForeground</span><span class="hl-1">((</span><span class="hl-4">msg</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Message from the foreground: &#39;</span><span class="hl-1"> + </span><span class="hl-4">msg</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">&#39;Hello front&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">foregroundResult</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">sendToForeground</span><span class="hl-1">(</span><span class="hl-2">&#39;hello&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Result from foreground: &#39;</span><span class="hl-1"> + </span><span class="hl-4">foregroundResult</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="sending-signal" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Sending signal<a href="#sending-signal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If you want to send a message, but do not want a reply, you can use
<code>signalBackground</code>.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">signalBackground</span><span class="hl-1">(</span><span class="hl-2">&#39;start&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">signalForeground</span><span class="hl-1">(</span><span class="hl-2">&#39;started&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="cancel-event-handlers" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Cancel event handlers<a href="#cancel-event-handlers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>If you do not want to receive anymore messages, you can cancel the
event handler.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">cancelFromBackground</span><span class="hl-1">();</span><br/><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">cancelFromForeground</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="typescript---supplying-generic-types" class="tsd-anchor"></a><h4 class="tsd-anchor-link">TypeScript - Supplying Generic Types<a href="#typescript---supplying-generic-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When using TypeScript, it is possible to supply a generic type for the <code>fromForeground</code> and <code>fromBackground</code> methods to specify the expected return type. This can be useful when you want to ensure type safety.</p>
<pre><code class="typescript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">fromBackground</span><span class="hl-1">&lt;</span><span class="hl-14">string</span><span class="hl-1">&gt;((</span><span class="hl-4">msg</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`The type is: </span><span class="hl-3">${</span><span class="hl-3">typeof</span><span class="hl-8"> </span><span class="hl-4">msg</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">); </span><span class="hl-15">// The type is: string</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Additionally, you can supply both a generic type and a return type for <code>sendToBackground</code> and <code>sendToForeground</code> methods. This can be useful when you want to ensure type safety and specify the expected return type.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">response</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">sendToBackground</span><span class="hl-1">&lt;</span><span class="hl-14">string</span><span class="hl-1">, </span><span class="hl-14">number</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;return a number&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`The type is: </span><span class="hl-3">${</span><span class="hl-3">typeof</span><span class="hl-8"> </span><span class="hl-4">response</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">); </span><span class="hl-15">// The type is: number</span>
</code><button type="button">Copy</button></pre>

<a id="waiting-for-the-background-to-be-ready" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Waiting for the background to be ready<a href="#waiting-for-the-background-to-be-ready" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you need to communicate with the background, it is a good idea to
wait for the background to be ready and have registered the
<code>waitForBackground</code> handler. This can be do using the
<code>waitForBackground</code> function.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">waitForBackground</span><span class="hl-1">();</span><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-4">result</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;The background is now ready&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>It waits for 10 seconds, but this can be changed by giving it a new
timeout. And <code>-1</code> to wait for ever.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">waitForBackground</span><span class="hl-1">(</span><span class="hl-12">20</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="permission-updated" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Permission updated<a href="#permission-updated" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to get notified when there are a change in the permissions.
This is helpful when an user adds new items to the Wapp and the Wapp needs to show an updated list of items.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">onPermissionUpdate</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Permissions changed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>You can also stop getting notified again, by calling <code>cancelPermissionUpdate</code>.</p>
<a id="web-hook" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Web Hook<a href="#web-hook" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you want to handle WebHooks, it is possible to register an event handler.
This event handler will be called for each incoming WebHook and can
return a value to the caller.</p>
<p>The format of the webhook url is <code>https://wappsto.com/services/extsync/request/&lt;token&gt;</code>.
You can get the token from the value <code>extSyncToken</code>.</p>
<pre><code class="javascript"><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">`WebHook URL: https://wappsto.com/services/extsync/request/</span><span class="hl-3">${</span><span class="hl-4">Wappsto</span><span class="hl-8">.</span><span class="hl-4">extSyncToken</span><span class="hl-3">}</span><span class="hl-2">`</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="register-webhook-handler" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Register WebHook handler<a href="#register-webhook-handler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To register the event handler, you can use the <code>onWebHook</code> function.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">onWebHook</span><span class="hl-1">((</span><span class="hl-4">event</span><span class="hl-1">, </span><span class="hl-4">method</span><span class="hl-1">, </span><span class="hl-4">uri</span><span class="hl-1">, </span><span class="hl-4">headers</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Web Hook event&#39;</span><span class="hl-1">, </span><span class="hl-4">event</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-4">status:</span><span class="hl-1"> </span><span class="hl-2">&#39;ok&#39;</span><span class="hl-1"> };</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>It is also possible to change the return code byt returning a object with a <code>body</code> and <code>code</code>.
This also supports adding headers to the response.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">onWebHook</span><span class="hl-1">((</span><span class="hl-4">event</span><span class="hl-1">, </span><span class="hl-4">method</span><span class="hl-1">, </span><span class="hl-4">uri</span><span class="hl-1">, </span><span class="hl-4">headers</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Web Hook event&#39;</span><span class="hl-1">, </span><span class="hl-4">event</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">code:</span><span class="hl-1"> </span><span class="hl-12">201</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">headers:</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-2">&#39;Content-Type&#39;</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-2">&#39;application/json&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        },</span><br/><span class="hl-1">        </span><span class="hl-4">body:</span><span class="hl-1"> { </span><span class="hl-4">status:</span><span class="hl-1"> </span><span class="hl-2">&quot;ok&quot;</span><span class="hl-1"> };</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="cancel-webhook-handler" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Cancel WebHook handler<a href="#cancel-webhook-handler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>And if you want to cancel the web hook event handler, you can call
<code>cancelWebHook</code>.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">cancelOnWebHook</span><span class="hl-1">(</span><span class="hl-4">handler</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="wapp-storage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Wapp Storage<a href="#wapp-storage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The Wapp Storage feature allows for the storage of configuration parameters
and other information within Wappsto.
This data is persistent across both foreground and background wapps.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">storage</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">wappStorage</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>If you are using TypeScript, it is possible to define the type of the data in the storage.</p>
<pre><code class="typescript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">storage</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">wappStorage</span><span class="hl-1">&lt;</span><span class="hl-14">Record</span><span class="hl-1">&lt;</span><span class="hl-14">string</span><span class="hl-1">, </span><span class="hl-14">string</span><span class="hl-1">&gt;&gt;();</span>
</code><button type="button">Copy</button></pre>

<a id="data-manipulation" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Data Manipulation:<a href="#data-manipulation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Single or multiple data entries can be stored in the Wapp Storage.</li>
</ul>
<pre><code class="javascript"><span class="hl-15">// Set new data into the store</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&#39;key&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;item&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">({ </span><span class="hl-4">key2:</span><span class="hl-1"> </span><span class="hl-2">&#39;item 2&#39;</span><span class="hl-1">, </span><span class="hl-4">key3:</span><span class="hl-1"> </span><span class="hl-2">&#39;item 3&#39;</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Multiple keys can be retrieved or removed simultaneously, providing efficient data management capabilities.</li>
</ul>
<pre><code class="javascript"><span class="hl-15">// Get data from the store</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">data</span><span class="hl-1"> = </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;key&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">data2</span><span class="hl-1"> = </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">([</span><span class="hl-2">&#39;key2&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;key3&#39;</span><span class="hl-1">]);</span><br/><span class="hl-15">// Remove data from the store</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">(</span><span class="hl-2">&#39;key1&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">remove</span><span class="hl-1">([</span><span class="hl-2">&#39;key2&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;key3&#39;</span><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

<a id="features" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Features:<a href="#features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>Data can be reloaded from the server using the reload function.</li>
</ul>
<pre><code class="javascript"><span class="hl-15">// Reload the data from the server</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">reload</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Data can be deleted by using the reset function.</li>
</ul>
<pre><code class="javascript"><span class="hl-15">// Delete all the saved data</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">reset</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<ul>
<li>Callbacks can be registered to receive notifications when the storage is updated.</li>
</ul>
<pre><code class="javascript"><span class="hl-15">// Signal when storage is changed</span><br/><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">onChange</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Storage is updated&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="background-storage" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Background Storage:<a href="#background-storage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li>
<p>Secret information can specifically be stored in the background part of the wapp, ensuring its confidentiality.</p>
</li>
<li>
<p>This secret data is exclusively accessible within the background wapp and remains isolated from the frontend part of the application.</p>
</li>
</ul>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">setSecret</span><span class="hl-1">(</span><span class="hl-2">&#39;key&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;item&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">secret_data</span><span class="hl-1"> = </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">getSecret</span><span class="hl-1">(</span><span class="hl-2">&#39;key&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;item&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">storage</span><span class="hl-1">.</span><span class="hl-0">removeSecret</span><span class="hl-1">(</span><span class="hl-2">&#39;key&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;item&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="oauth-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">OAuth<a href="#oauth-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To get an already created OAuth token, call the getToken with the name
of the oauth. If there is no token generated yet, a <code>Request Handler</code>
needs to be supplied, so that the library can call it with the url
that the user needs to visit, in order to generate the OAuth Token.</p>
<pre><code class="javascript"><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">token</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">OAuth</span><span class="hl-1">.</span><span class="hl-0">getToken</span><span class="hl-1">(</span><span class="hl-2">&#39;oauth name&#39;</span><span class="hl-1">, (</span><span class="hl-4">url</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Please visit </span><span class="hl-3">${</span><span class="hl-4">url</span><span class="hl-3">}</span><span class="hl-2"> to generate the OAuth token`</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;OAuth Token&#39;</span><span class="hl-1">, </span><span class="hl-4">token</span><span class="hl-1">);</span><br/><span class="hl-1">} </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-4">e</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Failed to get OAuth token&#39;</span><span class="hl-1">, </span><span class="hl-4">e</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="notification-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Notification<a href="#notification-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to send custom notification to the main <a href="http://Wappsto.com">Wappsto.com</a>
dashboard.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">notify</span><span class="hl-1">(</span><span class="hl-2">&#39;This is a custom notification from my Wapp&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>You can also send an email to your self by calling <code>sendMail</code>.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">sendMail</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">subject:</span><span class="hl-1"> </span><span class="hl-2">&#39;Mail with information&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">body:</span><span class="hl-1"> </span><span class="hl-2">&#39;&lt;h1&gt;Hello from the Wapp&lt;/h1&gt;&lt;p&gt;Here is some more information&lt;/p&gt;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">from:</span><span class="hl-1"> </span><span class="hl-2">&#39;My New Wapp&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>It is also possible to send a SMS to your self, if your phone number
is verified.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">sendSMS</span><span class="hl-1">(</span><span class="hl-2">&#39;Simple SMS from your Wapp&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="ontology-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Ontology<a href="#ontology-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To build a relationship graph of your data, you need to define the
ontology.</p>
<p>To add a relationship between two objects, you call <code>createEdge</code> with
the relationship that you want to define.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">edge</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">startNode</span><span class="hl-1">.</span><span class="hl-0">createEdge</span><span class="hl-1">({ </span><span class="hl-4">relationship:</span><span class="hl-1"> </span><span class="hl-2">&#39;child&#39;</span><span class="hl-1">, </span><span class="hl-4">to:</span><span class="hl-1"> </span><span class="hl-4">endNode</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<p>You can also supply more information about the edge.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">fullEdge</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">startNode</span><span class="hl-1">.</span><span class="hl-0">createEdge</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">relationship:</span><span class="hl-1"> </span><span class="hl-2">&#39;child&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">to:</span><span class="hl-1"> </span><span class="hl-4">endNode</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;My Edge&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">description:</span><span class="hl-1"> </span><span class="hl-2">&#39;This is my first edge&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">data:</span><span class="hl-1"> { </span><span class="hl-4">msg:</span><span class="hl-1"> </span><span class="hl-2">&#39;My own data for this edge&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>If you need a virtual object to create an edge to or from, you can
create a new node. To create a node in the graph, you call the <code>createNode</code>
function.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">startNode</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">createNode</span><span class="hl-1">(</span><span class="hl-2">&#39;start node&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>If you are using TypeScript, you can add a type to the node, like this:</p>
<pre><code class="typescript"><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-14">CustomNode</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-4">name</span><span class="hl-1">: </span><span class="hl-14">string</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">age</span><span class="hl-1">: </span><span class="hl-14">number</span><span class="hl-1">;</span><br/><span class="hl-1">};</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">startNode</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">createNode</span><span class="hl-1">&lt;</span><span class="hl-14">CustomNode</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;start node&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>It is also possible to add some data to the node when you create it,
by supplying it in the constructor.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">dataNode</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">createNode</span><span class="hl-1">(</span><span class="hl-2">&#39;data node&#39;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-4">data:</span><span class="hl-1"> </span><span class="hl-2">&#39;my data node&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>When you have created your ontology, you can <code>transverse</code> the graph
and find 'leafs' in the graph. You need to define a path to
follow. There are 3 special characters in the path, that have special
meaning. <code>.</code> is used to separate each element in the path. <code>*</code> is used
as matching any relationship. <code>|</code> is used as an 'or' between relationships.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">leafs</span><span class="hl-1"> = </span><span class="hl-4">node</span><span class="hl-1">.</span><span class="hl-0">transverse</span><span class="hl-1">(</span><span class="hl-2">&#39;*.contains|child.*&#39;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>When calling <code>transverse</code> the result is the leaf at the end of the
path. But if you want all the nodes that are found along the path, you
can set 'getAll' to true when calling <code>transverse</code>.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">allNodes</span><span class="hl-1"> = </span><span class="hl-4">node</span><span class="hl-1">.</span><span class="hl-0">transverse</span><span class="hl-1">(</span><span class="hl-2">&#39;*.contains|child.*&#39;</span><span class="hl-1">, </span><span class="hl-3">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>To load all the ontology edges from an object, you can call <code>getAllEdges</code>.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">edges</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">node</span><span class="hl-1">.</span><span class="hl-0">getAllEdges</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>To the models that the edge points to is available in the <code>models</code> attribute.</p>
<pre><code class="javascript"><span class="hl-4">edges</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">((</span><span class="hl-4">edge</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">edge</span><span class="hl-1">.</span><span class="hl-4">models</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">((</span><span class="hl-4">model</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`The edge points to </span><span class="hl-3">${</span><span class="hl-4">model</span><span class="hl-8">.</span><span class="hl-4">name</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>The edges are only loaded once, so if you need to refresh the edges from
the backend, you need to force an update by calling <code>getAllEdges</code> with true.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">edges</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">node</span><span class="hl-1">.</span><span class="hl-0">getAllEdges</span><span class="hl-1">(</span><span class="hl-3">true</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>If not all models can be loaded that the edge points to, the failed models are
stored in <code>failedModels</code> on the edge.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">edges</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">node</span><span class="hl-1">.</span><span class="hl-0">getAllEdges</span><span class="hl-1">();</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">edges</span><span class="hl-1">[</span><span class="hl-12">0</span><span class="hl-1">].</span><span class="hl-4">failedModels</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>To remove an edge, you can just call <code>delete</code> on the edge, but if you
want to remove the whole branch, you can call <code>deleteBranch</code>.
This will remove all edges and nodes under this node or edge.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">startNode</span><span class="hl-1">.</span><span class="hl-0">deleteBranch</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="service-helpers" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Service helpers<a href="#service-helpers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>There are a range of helpers avaiable to use in your wapp.</p>
<a id="unifydata-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">UnifyData<a href="#unifydata-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Use this helper function to unify data from one value to another.
The function takes two <code>Value</code> objects and a <code>LogRequest</code> as arguments.
The first <code>Value</code> is the source to read from, while the second is the destination to which the data is sent.
The <code>LogRequest</code> object controls how the data should be unified.
Additionally, there is an optional parameter that allows the data to be converted using a callback function.</p>
<pre><code class="javascript"><span class="hl-0">unifyData</span><span class="hl-1">(</span><span class="hl-4">inputValue</span><span class="hl-1">, </span><span class="hl-4">outputValue</span><span class="hl-1">, { </span><span class="hl-4">group_by:</span><span class="hl-1"> </span><span class="hl-2">&#39;hour&#39;</span><span class="hl-1">, </span><span class="hl-4">operation:</span><span class="hl-1"> </span><span class="hl-2">&#39;max&#39;</span><span class="hl-1"> });</span><br/><span class="hl-0">unifyData</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">inputValue</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">outputValue</span><span class="hl-1">,</span><br/><span class="hl-1">    { </span><span class="hl-4">group_by:</span><span class="hl-1"> </span><span class="hl-2">&#39;hour&#39;</span><span class="hl-1">, </span><span class="hl-4">operation:</span><span class="hl-1"> </span><span class="hl-2">&#39;max&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    (</span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Number</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">) * </span><span class="hl-12">2</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="generatehistory-1" class="tsd-anchor"></a><h4 class="tsd-anchor-link">generateHistory<a href="#generatehistory-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Use this helper function to generate history for a value based on an other values history.
The function takes two <code>Value</code> objects and a <code>LogRequest</code> as arguments.
The first <code>Value</code> is the source to read the history from,
while the second is the destination to which the history is sent.
The <code>LogRequest</code> object controls how the log data should be loaded.
Additionally, there is an optional parameter that allows the data to be converted using a callback function.</p>
<pre><code class="javascript"><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateHistory</span><span class="hl-1">(</span><span class="hl-4">inputValue</span><span class="hl-1">, </span><span class="hl-4">outputValue</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-4">group_by:</span><span class="hl-1"> </span><span class="hl-2">&#39;hour&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">operation:</span><span class="hl-1"> </span><span class="hl-2">&#39;max&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">generateHistory</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">inputValue</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">outputValue</span><span class="hl-1">,</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">        </span><span class="hl-4">group_by:</span><span class="hl-1"> </span><span class="hl-2">&#39;hour&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">operation:</span><span class="hl-1"> </span><span class="hl-2">&#39;max&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    (</span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Number</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">) * </span><span class="hl-12">2</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="background-logging" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Background logging<a href="#background-logging" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The debug log from the background wapp is enabled by default, but can
be turned off by calling <code>stopLogging</code>.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">stopLogging</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<a id="raw-requests" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Raw requests<a href="#raw-requests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to send your own requests to wappsto by using the
<code>request</code> object in wappsto.</p>
<pre><code class="javascript"><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-4">networks</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">request</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/network&#39;</span><span class="hl-1">);</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-4">request</span><span class="hl-1">.</span><span class="hl-0">post</span><span class="hl-1">(</span><span class="hl-2">&#39;/network&#39;</span><span class="hl-1">, { </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Network Name&#39;</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<a id="wapp-version" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Wapp Version<a href="#wapp-version" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To get the current version of the installed application, call <code>getWappVersion</code>.</p>
<pre><code class="javascript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-11">version</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">getWappVersion</span><span class="hl-1">();</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Current Installed Wapp Version: </span><span class="hl-3">${</span><span class="hl-4">version</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<a id="config-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Config<a href="#config-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>It is possible to change some of the behavior of the library using config.</p>
<a id="validation" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Validation<a href="#validation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>It is possible to disable the validation of the input parameters, by
changing it in the config. It can be 'none' or 'normal'.
The default validation is 'normal'.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">config</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">validation:</span><span class="hl-1"> </span><span class="hl-2">&#39;none&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="stream-reconnect-count" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Stream Reconnect Count<a href="#stream-reconnect-count" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>It is possible to change from the default 10 times the stream will try
to reconnect in case of connection errors.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">config</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">reconnectCount:</span><span class="hl-1"> </span><span class="hl-12">3</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="debug-information" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Debug information<a href="#debug-information" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>It is possible to get a lot of extra debug information about when the
library is doing by enabling debug options.</p>
<pre><code class="javascript"><span class="hl-4">Wappsto</span><span class="hl-1">.</span><span class="hl-0">config</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">debug:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">requests:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">stream:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#wappsto-wapp-api"><span>Wappsto <wbr/>Wapp API</span></a><ul><li><a href="#table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#install"><span>Install</span></a></li><li><ul><li><a href="#node"><span>Node</span></a></li><li><a href="#browser"><span>Browser</span></a></li></ul></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#create-a-new-iot-device"><span>Create a new <wbr/>Io<wbr/>T <wbr/>Device</span></a></li><li><a href="#to-report-a-change-in-the-value"><span>To report a change in the value</span></a></li><li><a href="#listing-for-requests-to-refresh-the-value"><span>Listing for requests to refresh the value</span></a></li><li><a href="#reporting-events-for-value"><span>Reporting events for value</span></a></li><li><a href="#accessing-existing-objects"><span>Accessing <wbr/>Existing <wbr/>Objects</span></a></li><li><ul><li><a href="#advanced-filtering-for-accessing-existing-objects"><span>Advanced <wbr/>Filtering for <wbr/>Accessing <wbr/>Existing <wbr/>Objects</span></a></li></ul></li><li><a href="#to-find-a-child-from-an-existing-object"><span>To find a child from an existing object</span></a></li><li><a href="#list-all-objects-by-type"><span>List all objects by type</span></a></li><li><a href="#retrieve-object-by-id"><span>Retrieve object by ID</span></a></li><li><a href="#to-change-a-value-on-a-network-created-outside-your-wapp"><span>To change a value on a network created outside your wapp</span></a></li><li><a href="#listing-for-changes-on-values"><span>Listing for changes on values</span></a></li><li><a href="#to-reload-a-model-from-the-server"><span>To reload a model from the server</span></a></li><li><a href="#sending-an-update-event-to-a-device"><span>Sending an update event to a device</span></a></li><li><a href="#loading-historical-data"><span>Loading historical data</span></a></li><li><a href="#check-if-a-device-is-online"><span>Check if a device is online</span></a></li><li><a href="#changing-the-period-and-delta-of-a-value"><span>Changing the period and delta of a value</span></a></li><li><a href="#deleting-an-item-that-was-created"><span>Deleting an item that was created</span></a></li><li><a href="#analyzing-historical-data"><span>Analyzing historical data</span></a></li><li><ul><li><a href="#energy-data"><span>Energy <wbr/>Data</span></a></li></ul></li><li><a href="#sending-messages-to-and-from-the-background"><span>Sending messages to and from the background</span></a></li><li><ul><li><a href="#example-code-for-the-foreground-part"><span>Example code for the foreground part</span></a></li><li><a href="#example-code-for-the-background-part"><span>Example code for the background part</span></a></li><li><a href="#sending-signal"><span>Sending signal</span></a></li><li><a href="#cancel-event-handlers"><span>Cancel event handlers</span></a></li><li><a href="#typescript---supplying-generic-types"><span>Type<wbr/>Script -<wbr/> <wbr/>Supplying <wbr/>Generic <wbr/>Types</span></a></li></ul></li><li><a href="#waiting-for-the-background-to-be-ready"><span>Waiting for the background to be ready</span></a></li><li><a href="#permission-updated"><span>Permission updated</span></a></li><li><a href="#web-hook"><span>Web <wbr/>Hook</span></a></li><li><ul><li><a href="#register-webhook-handler"><span>Register <wbr/>Web<wbr/>Hook handler</span></a></li><li><a href="#cancel-webhook-handler"><span>Cancel <wbr/>Web<wbr/>Hook handler</span></a></li></ul></li><li><a href="#wapp-storage"><span>Wapp <wbr/>Storage</span></a></li><li><ul><li><a href="#data-manipulation"><span>Data <wbr/>Manipulation:</span></a></li><li><a href="#features"><span>Features:</span></a></li><li><a href="#background-storage"><span>Background <wbr/>Storage:</span></a></li></ul></li><li><a href="#oauth-1"><span>OAuth</span></a></li><li><a href="#notification-1"><span>Notification</span></a></li><li><a href="#ontology-2"><span>Ontology</span></a></li><li><a href="#service-helpers"><span>Service helpers</span></a></li><li><ul><li><a href="#unifydata-1"><span>Unify<wbr/>Data</span></a></li><li><a href="#generatehistory-1"><span>generate<wbr/>History</span></a></li></ul></li><li><a href="#background-logging"><span>Background logging</span></a></li><li><a href="#raw-requests"><span>Raw requests</span></a></li><li><a href="#wapp-version"><span>Wapp <wbr/>Version</span></a></li><li><a href="#config-1"><span>Config</span></a></li><li><ul><li><a href="#validation"><span>Validation</span></a></li><li><a href="#stream-reconnect-count"><span>Stream <wbr/>Reconnect <wbr/>Count</span></a></li><li><a href="#debug-information"><span>Debug information</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">wappsto-wapp</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
